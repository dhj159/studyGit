webpackJsonp([8],{"9LqB":function(e,t){},FuqT:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l("kktv"),i=l("Wxq9"),r={name:"",components:{Title:n.a},data:function(){return{add:"",inten:"",code:"",industry:"",unit:"",circleUrl:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png",options:i.regionData,selectedOptions:[],form:{cname:"",codeId:"",unitCount:"",insureCount:"",industryType:null,codeType:null,intention:null,unitType:null,address:null,linkmanList:[{dept:"",email:"",flag:1,hiredate:"",job:"",lname:"",ltel:"",officePhone:""}]},intention:["意外险","医疗险","年金险","重疾险","其他"],codeType:["营业执照","组织机构代码证","税务登记证","社保保险登记证","办学许可证","其他"],unitType:["政府机关","事业单位","国有企业","集体企业","民营企业","外资企业","股份制企业","合资企业","其他"],industryType:["农业","林业","畜牧业","渔业","农、林、牧、渔服务业","煤炭开采与洗选业","石油和天然气开采业","黑色金属矿采选业","有色金属矿采选业","非金属矿采选业","其他矿采选业","农副食品加工业","食品制造业","饮料制造业","烟草制品业","纺织业","纺织服装、鞋、帽制造业","皮革、毛皮、羽毛（绒）及其制品业","木材加工及木、竹、藤、棕、草制品业","家具制造业","造纸及纸制品业","印刷业、记录媒介的复制","文教体育用品制造业","石油加工、炼焦及核燃料加工业","化学原料及化学制品制造业","医药制造业","化学纤维制造业","橡胶制品业","塑料制品业","非金属矿物制品业","黑色金属冶炼及压延加工业","有色金属冶炼及压延加工业","金属制品业","通用设备制造业","专业设备制造业","交通运输设备制造业","电气机械及器材制造业","通信设备、计算机及其他电子设备制造业","仪器仪表及文化、办公用机械制造业","工艺品及其他制造业","废弃资源和废旧材料回收加工业","电力、热力的生产和供应业","燃气生产和供应业","水的生产和供应业","房屋和土木工程建筑业","建筑安装业","建筑装饰业","其他建筑业","铁路运输业","道路运输业","城市公共交通业","水上运输业","航空运输业","管道运输业","装卸搬运和其他运输服务业","仓储业","邮政业","电信和其他信息传输服务业","计算机服务业","软件业","批发业","零售业","住宿业","餐饮业","银行业","证券业","保险业","其他金融活动","房地产业","租赁业","商务服务业","研究与试验发展","专业技术服务业","科技交流和推广服务业","地质勘查业","水利管理业","环境管理业","公共设施管理业","居民服务业","其他服务业","教育","卫生","社会保障业","社会福利业","新闻出版业","广播、电视、电影和音像业","文化艺术业","体育","娱乐业","中国共产党机关","国家机构","人民政协和民主党派","群众团体、社会团体和宗教组织","基层群众自治组织","国际组织","楼宇"],checkTel:function(e,t,l){if(!t)return l(new Error("手机号不能为空"));if(!/^1[3|4|5|7|8][0-9]\d{8}$/.test(t))return l(new Error("请输入正确的手机号"));l()},rules:{cname:[{required:!0,message:"请输入客户名称",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20个字符",trigger:"blur"}]}}},mounted:function(){this.getList()},methods:{getList:function(){var e=this;this.axios.get(this.baseUrl+"client/queryClientId",{params:{id:this.$route.query.id}}).then(function(t){e.form=t.data})},addItem:function(){this.form.linkmanList.push({dept:"",email:"",flag:0,hiredate:"",job:"",lname:"",ltel:"",officePhone:""})},deleteItem:function(e,t){this.form.linkmanList.splice(t,1)},handleChange:function(e){var t="";t+=i.CodeToText[e[0]],t+=i.CodeToText[e[1]],t+=i.CodeToText[e[2]],alert(t),this.form.address=t},submitUser:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var l={id:t.form.id,cname:t.form.cname,unitCount:t.form.unitCount,insureCount:t.form.insureCount,industryType:t.form.industryType,intention:t.form.intention,unitType:t.form.unitType,address:t.form.address,linkmanList:t.form.linkmanList};t.axios.put(t.baseUrl+"client/updateClient",t.$qs.stringify(l,{arrayFormat:"indices",allowDots:!0})).then(function(e){201==e.data.code?(t.$message({message:e.data.message,type:"success"}),setTimeout(function(){t.$router.push({name:"localUser"})},2e3)):t.$message({message:e.data.message,type:"error"})})})}}},o={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("Title"),e._v(" "),l("el-header",{staticStyle:{height:"92px"}},[l("el-col",{staticStyle:{"margin-left":"38%"},attrs:{span:12}},[l("div",{staticClass:"block"},[l("el-avatar",{attrs:{size:80,src:e.circleUrl}})],1)])],1),e._v(" "),l("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"80px"}},[l("el-form-item",{attrs:{label:"客户名称",prop:"cname"}},[l("el-input",{model:{value:e.form.cname,callback:function(t){e.$set(e.form,"cname",t)},expression:"form.cname"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"客户星级",prop:"starLevel"}},[l("el-input",{attrs:{disabled:!0},model:{value:e.form.starLevel,callback:function(t){e.$set(e.form,"starLevel",t)},expression:"form.starLevel"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"投保意向"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.intention,callback:function(t){e.$set(e.form,"intention",t)},expression:"form.intention"}},e._l(e.intention,function(e){return l("el-option",{key:e,attrs:{value:e}})}),1)],1),e._v(" "),l("h4",{staticStyle:{"padding-left":"3%",color:"#409EFF","font-size":"16px"}},[e._v("基本信息")]),e._v(" "),l("el-form-item",{attrs:{label:"证件类型"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.codeType,callback:function(t){e.$set(e.form,"codeType",t)},expression:"form.codeType"}},e._l(e.codeType,function(e){return l("el-option",{key:e,attrs:{value:e}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"行业类型"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.industryType,callback:function(t){e.$set(e.form,"industryType",t)},expression:"form.industryType"}},e._l(e.industryType,function(e){return l("el-option",{key:e,attrs:{value:e}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"单位性质"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.unitType,callback:function(t){e.$set(e.form,"unitType",t)},expression:"form.unitType"}},e._l(e.unitType,function(e){return l("el-option",{key:e,attrs:{value:e}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"证件号码"}},[l("el-input",{model:{value:e.form.codeId,callback:function(t){e.$set(e.form,"codeId",t)},expression:"form.codeId"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"单位总人数","label-width":"92px"}},[l("el-input",{staticStyle:{width:"80%"},model:{value:e.form.unitCount,callback:function(t){e.$set(e.form,"unitCount",t)},expression:"form.unitCount"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"预计投保人数","label-width":"102px"}},[l("el-input",{staticStyle:{width:"80%"},model:{value:e.form.insureCount,callback:function(t){e.$set(e.form,"insureCount",t)},expression:"form.insureCount"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"地址","label-width":"102px"}},[l("el-input",{staticStyle:{width:"80%"},model:{value:e.form.address,callback:function(t){e.$set(e.form,"address",t)},expression:"form.address"}})],1),e._v(" "),e._l(e.form.linkmanList,function(t,n){return l("div",{key:n},[0==n?l("h4",{staticStyle:{"padding-left":"3%"}},[l("span",{staticStyle:{color:"#67C23A"}},[e._v("主联系人信息")]),l("span",{staticStyle:{"margin-left":"54%",color:"#67C23A"},on:{click:e.addItem}},[e._v("新增联系人")])]):e.form.linkmanList.length>=1?l("h4",{staticStyle:{"padding-left":"3%"}},[l("span",{staticStyle:{color:"#E6A23C"}},[e._v("副联系人信息")]),l("span",{staticStyle:{"margin-left":"54%",color:"#E6A23C"},on:{click:function(l){return e.deleteItem(t,n)}}},[e._v("删除联系人")])]):e._e(),e._v(" "),l("el-form-item",{attrs:{label:"姓名",prop:"linkmanList."+n+".lname",rules:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:20,message:"长度在3到20个字符",trigger:["blur","change"]}]}},[l("el-input",{model:{value:t.lname,callback:function(l){e.$set(t,"lname",l)},expression:"item.lname"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"手机",prop:"linkmanList."+n+".ltel",rules:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:e.checkTel,trigger:"blur"}]}},[l("el-input",{model:{value:t.ltel,callback:function(l){e.$set(t,"ltel",l)},expression:"item.ltel"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"办公电话",prop:"officePhone"}},[l("el-input",{model:{value:t.officePhone,callback:function(l){e.$set(t,"officePhone",l)},expression:"item.officePhone"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"出生日期"}},[l("el-col",{attrs:{span:11}},[l("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:t.hiredate,callback:function(l){e.$set(t,"hiredate",l)},expression:"item.hiredate"}})],1)],1),e._v(" "),l("el-form-item",{attrs:{label:"部门",prop:"dept"}},[l("el-input",{model:{value:t.dept,callback:function(l){e.$set(t,"dept",l)},expression:"item.dept"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"职位",prop:"job"}},[l("el-input",{model:{value:t.job,callback:function(l){e.$set(t,"job",l)},expression:"item.job"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[l("el-input",{model:{value:t.email,callback:function(l){e.$set(t,"email",l)},expression:"item.email"}})],1)],1)}),e._v(" "),l("el-form-item",[l("el-button",{staticStyle:{width:"50%"},attrs:{type:"success"},on:{click:function(t){return e.submitUser("form")}}},[e._v("提交")])],1)],2)],1)},staticRenderFns:[]};var a=l("VU/8")(r,o,!1,function(e){l("9LqB")},null,null);t.default=a.exports}});
//# sourceMappingURL=8.5d5fec43908c29295db8.js.map